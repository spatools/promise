/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var e,r,t;!function(n){function i(e,r){return g.call(e,r)}function o(e,r){var t,n,i,o,s,c,u,a,l,f,p,d=r&&r.split("/"),v=y.map,m=v&&v["*"]||{};if(e&&"."===e.charAt(0))if(r){for(d=d.slice(0,d.length-1),e=e.split("/"),s=e.length-1,y.nodeIdCompat&&j.test(e[s])&&(e[s]=e[s].replace(j,"")),e=d.concat(e),l=0;l<e.length;l+=1)if(p=e[l],"."===p)e.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((d||m)&&v){for(t=e.split("/"),l=t.length;l>0;l-=1){if(n=t.slice(0,l).join("/"),d)for(f=d.length;f>0;f-=1)if(i=v[d.slice(0,f).join("/")],i&&(i=i[n])){o=i,c=l;break}if(o)break;!u&&m&&m[n]&&(u=m[n],a=l)}!o&&u&&(o=u,c=a),o&&(t.splice(0,c,o),e=t.join("/"))}return e}function s(e,r){return function(){return d.apply(n,P.call(arguments,0).concat([e,r]))}}function c(e){return function(r){return o(r,e)}}function u(e){return function(r){h[e]=r}}function a(e){if(i(w,e)){var r=w[e];delete w[e],b[e]=!0,p.apply(n,r)}if(!i(h,e)&&!i(b,e))throw new Error("No "+e);return h[e]}function l(e){var r,t=e?e.indexOf("!"):-1;return t>-1&&(r=e.substring(0,t),e=e.substring(t+1,e.length)),[r,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,d,v,m,h={},w={},y={},b={},g=Object.prototype.hasOwnProperty,P=[].slice,j=/\.js$/;v=function(e,r){var t,n=l(e),i=n[0];return e=n[1],i&&(i=o(i,r),t=a(i)),i?e=t&&t.normalize?t.normalize(e,c(r)):o(e,r):(e=o(e,r),n=l(e),i=n[0],e=n[1],i&&(t=a(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:t}},m={require:function(e){return s(e)},exports:function(e){var r=h[e];return"undefined"!=typeof r?r:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:f(e)}}},p=function(e,r,t,o){var c,l,f,p,d,y,g=[],P=typeof t;if(o=o||e,"undefined"===P||"function"===P){for(r=!r.length&&t.length?["require","exports","module"]:r,d=0;d<r.length;d+=1)if(p=v(r[d],o),l=p.f,"require"===l)g[d]=m.require(e);else if("exports"===l)g[d]=m.exports(e),y=!0;else if("module"===l)c=g[d]=m.module(e);else if(i(h,l)||i(w,l)||i(b,l))g[d]=a(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,s(o,!0),u(l),{}),g[d]=h[l]}f=t?t.apply(h[e],g):void 0,e&&(c&&c.exports!==n&&c.exports!==h[e]?h[e]=c.exports:f===n&&y||(h[e]=f))}else e&&(h[e]=t)},e=r=d=function(e,r,t,i,o){if("string"==typeof e)return m[e]?m[e](r):a(v(e,r).f);if(!e.splice){if(y=e,y.deps&&d(y.deps,y.callback),!r)return;r.splice?(e=r,r=t,t=null):e=n}return r=r||function(){},"function"==typeof t&&(t=i,i=o),i?p(n,e,r,t):setTimeout(function(){p(n,e,r,t)},4),d},d.config=function(e){return d(e)},e._defined=h,t=function(e,r,t){r.splice||(t=r,r=[]),i(h,e)||i(w,e)||(w[e]=[e,r,t])},t.amd={jQuery:!0}}(),t("../bower_components/almond/almond",function(){}),t("promise",[],function(){function e(){var e;return new window.Promise(function(r){e=r}),"function"==typeof e}function t(){return"Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&e()}var n,i=t()?window.Promise:r("promise/class"),o=r("promise/extensions");for(n in o)i[n]=o[n];return i}),t("../promise-builder",function(){}),t("promise/status",["require","exports"],function(e,r){r.waiting=void 0,r.unresolved="unresolved",r.resolved="has-resolution",r.rejected="has-rejection"}),t("promise/timeout",["require","exports"],function(){function e(e){process.nextTick(e)}function r(e){setTimeout(e,1)}var t;return t="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e:r}),t("promise/tasks",["require","exports","./timeout"],function(e,r,t){function n(){t(function(){if(0===c.length)return u=!1,void 0;var e=c.shift(),r=e.executor,t=e.args;r.apply(void 0,t),n()})}function i(){u||(u=!0,n())}function o(e,r){c.push({executor:e,args:r}),i()}function s(){c=[]}var c=[],u=!1;r.enqueue=o,r.clear=s}),t("promise/utils",["require","exports"],function(e,r){function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return r.isCallable(e)&&e.prototype&&e.prototype.constructor===e}function o(e){return"undefined"==typeof e}function s(e,r){return r in e}function c(e,t,n){if("undefined"==typeof n&&(n=[]),!r.hasProperty(e,t)||!r.isCallable(e[t]))throw new TypeError("Object has no "+t+" function");return e[t].apply(e,n)}function u(){return r.identity}function a(e){throw e instanceof Error||(e=new Error(e)),e}r.isCallable=t,r.isObject=n,r.isConstructor=i,r.isUndefined=o,r.hasProperty=s,r.invoke=c,r.identity=u,r.thrower=a}),t("promise/abstract",["require","exports","./status","./tasks","./utils"],function(e,r,t,n,i){function o(e,n){e._status=t.unresolved,e._resolveReactions=[],e._rejectReactions=[];var i=r.createResolveFunction(e),o=r.createRejectFunction(e);try{n(i,o)}catch(s){o.call(void 0,s)}return e}function s(e){return function(n){if(e._status===t.unresolved){var i=e._rejectReactions;return e._result=n,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=t.rejected,r.triggerPromiseReaction(i,n)}}}function c(e){return function(n){if(e._status===t.unresolved){var i=e._resolveReactions;return e._result=n,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=t.resolved,r.triggerPromiseReaction(i,n)}}}function u(e,t,n){return function(o){if(o===e){var s=new TypeError("Handler result cannot be same promise as input");return n.call(void 0,s)}var c=e.constructor,u=r.newPromiseCapability(c);return r.updatePromiseFromPotentialThenable(o,u)?i.invoke(u.promise,"then",[t,n]):t.call(void 0,o)}}function a(e){if(!i.isConstructor(e))throw new TypeError("newPromiseCapability only accept a constructor as argument");var r={promise:void 0,resolve:void 0,reject:void 0};if(r.promise=new e(function(e,t){r.resolve=e,r.reject=t}),!i.isCallable(r.resolve))throw new TypeError("Given constructor type does not provide an acceptable resolve function");if(!i.isCallable(r.reject))throw new TypeError("Given constructor type does not provide an acceptable reject function");return r}function l(e){return i.isObject(e)&&!i.isUndefined(e._status)}function f(e,t){for(var i,o=0,s=e.length;s>o;o++)i=e[o],n.enqueue(r.PromiseReactionTask,[i,t])}function p(e,r){try{if(i.isObject(e)&&i.isCallable(e.then))return e.then.call(e,r.resolve,r.reject),!0}catch(t){return r.reject.call(null,t),!0}return!1}function d(e,t){if(!e||!e.capability||!e.handler)throw new TypeError("PromiseReactionTask take a promise reaction record as first argument");var n,i=e.capability,o=e.handler;try{n=o.call(void 0,t)}catch(s){return i.reject.call(void 0,s)}if(n===i.promise){var c=new TypeError("Handler result cannot be same promise as input");return i.reject.call(void 0,c)}return r.updatePromiseFromPotentialThenable(n,i)?void 0:i.resolve.call(void 0,n)}r.initializePromise=o,r.createRejectFunction=s,r.createResolveFunction=c,r.createResolutionHandlerFunction=u,r.newPromiseCapability=a,r.isPromise=l,r.triggerPromiseReaction=f,r.updatePromiseFromPotentialThenable=p,r.PromiseReactionTask=d}),t("promise/class",["require","exports","./abstract","./status","./tasks","./utils"],function(e,r,t,n,i,o){var s=function(){function e(r){if(this._status=n.waiting,!o.isCallable(r))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");t.initializePromise(this,r)}return e.prototype.then=function(e,r){var s=this,c=this.constructor,u=t.newPromiseCapability(c);o.isCallable(r)||(r=o.thrower),o.isCallable(e)||(e=o.identity);var a={capability:u,handler:t.createResolutionHandlerFunction(s,e,r)},l={capability:u,handler:r};return this._status===n.unresolved?(this._resolveReactions.push(a),this._rejectReactions.push(l)):this._status===n.resolved?i.enqueue(t.PromiseReactionTask,[a,s._result]):this._status===n.rejected&&i.enqueue(t.PromiseReactionTask,[l,s._result]),u.promise},e.prototype.catch=function(e){return this.then(void 0,e)},e.resolve=function(e){var r=this,n=t.newPromiseCapability(r);return n.resolve.call(void 0,e),n.promise},e.reject=function(e){var r=this,n=t.newPromiseCapability(r);return n.reject.call(void 0,e),n.promise},e.cast=function(e){var r=this;if(t.isPromise(e)&&e.constructor===r)return e;var n=t.newPromiseCapability(r);return n.resolve.call(void 0,e),n.promise},e.all=function(e){function r(e){return function(r){c[e]=r,u--,0===u&&s.resolve.call(void 0,c)}}var n,i=this,s=t.newPromiseCapability(i),c=[],u=0,a=e.length,l=0;if(0===a)return s.resolve.call(void 0,c),s.promise;for(;a>l;l++){n=e[l];try{n=o.invoke(i,"cast",[n]),o.invoke(n,"then",[r(l),s.reject])}catch(f){return s.reject.call(void 0,f),s.promise}u++}return s.promise},e.race=function(e){for(var r,n=this,i=t.newPromiseCapability(n),s=0,c=e.length;c>s;s++){r=e[s];try{r=o.invoke(n,"cast",[r]),o.invoke(r,"then",[i.resolve,i.reject])}catch(u){return i.reject.call(void 0,u),i.promise}}return i.promise},e}(),c="undefined"!=typeof global?global:window;return c.Promise=s,s}),t("promise/extensions",["require","exports","../promise"],function(e,r){function t(e){for(var r=[],t=0;t<arguments.length-1;t++)r[t]=arguments[t+1];return function(){for(var t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return e.apply(void 0,r.concat(t))}}function n(e){return new Promise(function(r){setTimeout(function(){r.call(void 0)},e)})}function i(e,r){return new Promise(function(n,i){if(0===e.length)return n.call(void 0);var o,s,c=0,u=e.length;for(o=Promise.resolve(void 0);u>c;c++)s=e[c],o=o.then(t(r,s,c),i);o.then(n,i)})}r.timeout=n,r.forEach=i}),r(["promise"])}();