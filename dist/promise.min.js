/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var e,t,r;!function(n){function o(e,t){return b.call(e,t)}function i(e,t){var r,n,o,i,s,u,c,a,l,f,p,v=t&&t.split("/"),d=w.map,m=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(v=v.slice(0,v.length-1),e=e.split("/"),s=e.length-1,w.nodeIdCompat&&j.test(e[s])&&(e[s]=e[s].replace(j,"")),e=v.concat(e),l=0;l<e.length;l+=1)if(p=e[l],"."===p)e.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((v||m)&&d){for(r=e.split("/"),l=r.length;l>0;l-=1){if(n=r.slice(0,l).join("/"),v)for(f=v.length;f>0;f-=1)if(o=d[v.slice(0,f).join("/")],o&&(o=o[n])){i=o,u=l;break}if(i)break;!c&&m&&m[n]&&(c=m[n],a=l)}!i&&c&&(i=c,u=a),i&&(r.splice(0,u,i),e=r.join("/"))}return e}function s(e,t){return function(){return v.apply(n,P.call(arguments,0).concat([e,t]))}}function u(e){return function(t){return i(t,e)}}function c(e){return function(t){h[e]=t}}function a(e){if(o(y,e)){var t=y[e];delete y[e],g[e]=!0,p.apply(n,t)}if(!o(h,e)&&!o(g,e))throw new Error("No "+e);return h[e]}function l(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function f(e){return function(){return w&&w.config&&w.config[e]||{}}}var p,v,d,m,h={},y={},w={},g={},b=Object.prototype.hasOwnProperty,P=[].slice,j=/\.js$/;d=function(e,t){var r,n=l(e),o=n[0];return e=n[1],o&&(o=i(o,t),r=a(o)),o?e=r&&r.normalize?r.normalize(e,u(t)):i(e,t):(e=i(e,t),n=l(e),o=n[0],e=n[1],o&&(r=a(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:r}},m={require:function(e){return s(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:f(e)}}},p=function(e,t,r,i){var u,l,f,p,v,w,b=[],P=typeof r;if(i=i||e,"undefined"===P||"function"===P){for(t=!t.length&&r.length?["require","exports","module"]:t,v=0;v<t.length;v+=1)if(p=d(t[v],i),l=p.f,"require"===l)b[v]=m.require(e);else if("exports"===l)b[v]=m.exports(e),w=!0;else if("module"===l)u=b[v]=m.module(e);else if(o(h,l)||o(y,l)||o(g,l))b[v]=a(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,s(i,!0),c(l),{}),b[v]=h[l]}f=r?r.apply(h[e],b):void 0,e&&(u&&u.exports!==n&&u.exports!==h[e]?h[e]=u.exports:f===n&&w||(h[e]=f))}else e&&(h[e]=r)},e=t=v=function(e,t,r,o,i){if("string"==typeof e)return m[e]?m[e](t):a(d(e,t).f);if(!e.splice){if(w=e,w.deps&&v(w.deps,w.callback),!t)return;t.splice?(e=t,t=r,r=null):e=n}return t=t||function(){},"function"==typeof r&&(r=o,o=i),o?p(n,e,t,r):setTimeout(function(){p(n,e,t,r)},4),v},v.config=function(e){return v(e)},e._defined=h,r=function(e,t,r){t.splice||(r=t,t=[]),o(h,e)||o(y,e)||(y[e]=[e,t,r])},r.amd={jQuery:!0}}(),r("../bower_components/almond/almond",function(){}),r("promise",[],function(){function e(){var e;return new window.Promise(function(t){e=t}),"function"==typeof e}function r(){return"Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&e()}var n,o=r()?window.Promise:t("promise/class"),i=t("promise/extensions");for(n in i)o[n]=i[n];return o}),r("../promise-builder",function(){}),r("promise/status",["require","exports"],function(e,t){t.waiting=void 0,t.unresolved="unresolved",t.resolved="has-resolution",t.rejected="has-rejection"}),r("promise/timeout",["require","exports"],function(){function e(e){process.nextTick(e)}function t(e){setTimeout(e,1)}var r;return r="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e:t}),r("promise/tasks",["require","exports","./timeout"],function(e,t,r){function n(){r(function(){if(0===u.length)return c=!1,void 0;var e=u.shift(),t=e.executor,r=e.args;t.apply(void 0,r),n()})}function o(){c||(c=!0,n())}function i(e,t){u.push({executor:e,args:t}),o()}function s(){u=[]}var u=[],c=!1;t.enqueue=i,t.clear=s}),r("promise/utils",["require","exports"],function(e,t){function r(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return t.isCallable(e)&&e.prototype&&e.prototype.constructor===e}function i(e){return"undefined"==typeof e}function s(e,t){return t in e}function u(e,r,n){if("undefined"==typeof n&&(n=[]),!t.hasProperty(e,r)||!t.isCallable(e[r]))throw new TypeError("Object has no "+r+" function");return e[r].apply(e,n)}function c(){return t.identity}function a(e){throw e instanceof Error||(e=new Error(e)),e}t.isCallable=r,t.isObject=n,t.isConstructor=o,t.isUndefined=i,t.hasProperty=s,t.invoke=u,t.identity=c,t.thrower=a}),r("promise/abstract",["require","exports","./status","./tasks","./utils"],function(e,t,r,n,o){function i(e,n){e._status=r.unresolved,e._resolveReactions=[],e._rejectReactions=[];var o=t.createResolveFunction(e),i=t.createRejectFunction(e);try{n(o,i)}catch(s){i.call(void 0,s)}return e}function s(e){return function(n){if(e._status===r.unresolved){var o=e._rejectReactions;return e._result=n,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=r.rejected,t.triggerPromiseReaction(o,n)}}}function u(e){return function(n){if(e._status===r.unresolved){var o=e._resolveReactions;return e._result=n,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=r.resolved,t.triggerPromiseReaction(o,n)}}}function c(e,r,n){return function(i){if(i===e){var s=new TypeError("Handler result cannot be same promise as input");return n.call(void 0,s)}var u=e.constructor,c=t.newPromiseCapability(u);return t.updatePromiseFromPotentialThenable(i,c)?o.invoke(c.promise,"then",[r,n]):r.call(void 0,i)}}function a(e){if(!o.isConstructor(e))throw new TypeError("newPromiseCapability only accept a constructor as argument");var t={promise:void 0,resolve:void 0,reject:void 0};if(t.promise=new e(function(e,r){t.resolve=e,t.reject=r}),!o.isCallable(t.resolve))throw new TypeError("Given constructor type does not provide an acceptable resolve function");if(!o.isCallable(t.reject))throw new TypeError("Given constructor type does not provide an acceptable reject function");return t}function l(e){return o.isObject(e)&&!o.isUndefined(e._status)}function f(e,r){for(var o,i=0,s=e.length;s>i;i++)o=e[i],n.enqueue(t.PromiseReactionTask,[o,r])}function p(e,t){try{if(o.isObject(e)&&o.isCallable(e.then))return e.then.call(e,t.resolve,t.reject),!0}catch(r){return t.reject.call(null,r),!0}return!1}function v(e,r){if(!e||!e.capability||!e.handler)throw new TypeError("PromiseReactionTask take a promise reaction record as first argument");var n,o=e.capability,i=e.handler;try{n=i.call(void 0,r)}catch(s){return o.reject.call(void 0,s)}if(n===o.promise){var u=new TypeError("Handler result cannot be same promise as input");return o.reject.call(void 0,u)}return t.updatePromiseFromPotentialThenable(n,o)?void 0:o.resolve.call(void 0,n)}t.initializePromise=i,t.createRejectFunction=s,t.createResolveFunction=u,t.createResolutionHandlerFunction=c,t.newPromiseCapability=a,t.isPromise=l,t.triggerPromiseReaction=f,t.updatePromiseFromPotentialThenable=p,t.PromiseReactionTask=v}),r("promise/class",["require","exports","./abstract","./status","./tasks","./utils"],function(e,t,r,n,o,i){var s=function(){function e(t){if(this._status=n.waiting,!i.isCallable(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");r.initializePromise(this,t)}return e.prototype.then=function(e,t){var s=this,u=this.constructor,c=r.newPromiseCapability(u);i.isCallable(t)||(t=i.thrower),i.isCallable(e)||(e=i.identity);var a={capability:c,handler:r.createResolutionHandlerFunction(s,e,t)},l={capability:c,handler:t};return this._status===n.unresolved?(this._resolveReactions.push(a),this._rejectReactions.push(l)):this._status===n.resolved?o.enqueue(r.PromiseReactionTask,[a,s._result]):this._status===n.rejected&&o.enqueue(r.PromiseReactionTask,[l,s._result]),c.promise},e.prototype.catch=function(e){return this.then(void 0,e)},e.resolve=function(e){var t=this,n=r.newPromiseCapability(t);return n.resolve.call(void 0,e),n.promise},e.reject=function(e){var t=this,n=r.newPromiseCapability(t);return n.reject.call(void 0,e),n.promise},e.cast=function(e){var t=this;if(r.isPromise(e)&&e.constructor===t)return e;var n=r.newPromiseCapability(t);return n.resolve.call(void 0,e),n.promise},e.all=function(e){function t(e){return function(t){u[e]=t,c--,0===c&&s.resolve.call(void 0,u)}}var n,o=this,s=r.newPromiseCapability(o),u=[],c=0,a=e.length,l=0;if(0===a)return s.resolve.call(void 0,u),s.promise;for(;a>l;l++){n=e[l];try{n=i.invoke(o,"cast",[n]),i.invoke(n,"then",[t(l),s.reject])}catch(f){return s.reject.call(void 0,f),s.promise}c++}return s.promise},e.race=function(e){for(var t,n=this,o=r.newPromiseCapability(n),s=0,u=e.length;u>s;s++){t=e[s];try{t=i.invoke(n,"cast",[t]),i.invoke(t,"then",[o.resolve,o.reject])}catch(c){return o.reject.call(void 0,c),o.promise}}return o.promise},e}(),u="undefined"!=typeof global?global:window;return u.Promise=s,s}),r("promise/extensions",["require","exports","../promise"],function(e,t){function r(e){for(var t=[],r=0;r<arguments.length-1;r++)t[r]=arguments[r+1];return function(){for(var r=[],n=0;n<arguments.length-0;n++)r[n]=arguments[n+0];return e.apply(void 0,t.concat(r))}}function n(e){return"undefined"==typeof e&&(e=1),new Promise(function(t){setTimeout(function(){t.call(void 0)},e)})}function o(){var t=Array.prototype.slice.call(arguments);return 0===t.length?Promise.resolve(void 0):new Promise(function(r,n){1===t.length&&"[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]);try{e(t,function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];r(1===e.length?e[0]:e)},function(e){n(e)})}catch(o){n(o)}})}function i(e,t){return 0===e.length?Promise.resolve(void 0):new Promise(function(n,o){var i,s,u=0,c=e.length;for(i=Promise.resolve(void 0);c>u;u++)s=e[u],i=i.then(r(t,s,u),o);i.then(n,o)})}function s(e,t){return 0===e.length?Promise.resolve([]):new Promise(function(n,o){var i,s,u=0,c=e.length,a=[],l=function(e,r){return t(e,r).then(function(e){return a.push(e),e})};for(i=Promise.resolve(void 0);c>u;u++)s=e[u],i=i.then(r(l,s,u),o);i.then(function(){return n(a)},o)})}t.timeout=n,t.module=o,t.forEach=i,t.map=s}),t(["promise"])}();