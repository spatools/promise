/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var e,t,r;!function(n){function o(e,t){return w.call(e,t)}function i(e,t){var r,n,o,i,s,u,a,c,l,f,p,v=t&&t.split("/"),d=y.map,m=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(v=v.slice(0,v.length-1),e=e.split("/"),s=e.length-1,y.nodeIdCompat&&P.test(e[s])&&(e[s]=e[s].replace(P,"")),e=v.concat(e),l=0;l<e.length;l+=1)if(p=e[l],"."===p)e.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((v||m)&&d){for(r=e.split("/"),l=r.length;l>0;l-=1){if(n=r.slice(0,l).join("/"),v)for(f=v.length;f>0;f-=1)if(o=d[v.slice(0,f).join("/")],o&&(o=o[n])){i=o,u=l;break}if(i)break;!a&&m&&m[n]&&(a=m[n],c=l)}!i&&a&&(i=a,u=c),i&&(r.splice(0,u,i),e=r.join("/"))}return e}function s(e,t){return function(){var r=j.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),v.apply(n,r.concat([e,t]))}}function u(e){return function(t){return i(t,e)}}function a(e){return function(t){h[e]=t}}function c(e){if(o(g,e)){var t=g[e];delete g[e],b[e]=!0,p.apply(n,t)}if(!o(h,e)&&!o(b,e))throw new Error("No "+e);return h[e]}function l(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function f(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,v,d,m,h={},g={},y={},b={},w=Object.prototype.hasOwnProperty,j=[].slice,P=/\.js$/;d=function(e,t){var r,n=l(e),o=n[0];return e=n[1],o&&(o=i(o,t),r=c(o)),o?e=r&&r.normalize?r.normalize(e,u(t)):i(e,t):(e=i(e,t),n=l(e),o=n[0],e=n[1],o&&(r=c(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:r}},m={require:function(e){return s(e)},exports:function(e){var t=h[e];return"undefined"!=typeof t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:f(e)}}},p=function(e,t,r,i){var u,l,f,p,v,y,w=[],j=typeof r;if(i=i||e,"undefined"===j||"function"===j){for(t=!t.length&&r.length?["require","exports","module"]:t,v=0;v<t.length;v+=1)if(p=d(t[v],i),l=p.f,"require"===l)w[v]=m.require(e);else if("exports"===l)w[v]=m.exports(e),y=!0;else if("module"===l)u=w[v]=m.module(e);else if(o(h,l)||o(g,l)||o(b,l))w[v]=c(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,s(i,!0),a(l),{}),w[v]=h[l]}f=r?r.apply(h[e],w):void 0,e&&(u&&u.exports!==n&&u.exports!==h[e]?h[e]=u.exports:f===n&&y||(h[e]=f))}else e&&(h[e]=r)},e=t=v=function(e,t,r,o,i){if("string"==typeof e)return m[e]?m[e](t):c(d(e,t).f);if(!e.splice){if(y=e,y.deps&&v(y.deps,y.callback),!t)return;t.splice?(e=t,t=r,r=null):e=n}return t=t||function(){},"function"==typeof r&&(r=o,o=i),o?p(n,e,t,r):setTimeout(function(){p(n,e,t,r)},4),v},v.config=function(e){return v(e)},e._defined=h,r=function(e,t,r){t.splice||(r=t,t=[]),o(h,e)||o(g,e)||(g[e]=[e,t,r])},r.amd={jQuery:!0}}(),r("../bower_components/almond/almond",function(){}),r("promise",[],function(){function e(){var e;return new o.Promise(function(t){e=t}),"function"==typeof e}function r(){return"Promise"in o&&"resolve"in o.Promise&&"reject"in o.Promise&&"all"in o.Promise&&"race"in o.Promise&&e()}var n,o=window,i=t("promise/extensions");r()||(o.Promise=t("promise/class"));for(n in i)o.Promise[n]=i[n];return o.Promise}),r("../promise-builder",function(){}),r("promise/status",["require","exports"],function(e,t){t.waiting=void 0,t.unresolved="unresolved",t.resolved="has-resolution",t.rejected="has-rejection"}),r("promise/tasks",["require","exports"],function(e,t){function r(){for(var e=0;s>e;e+=2){var t=u[e],r=u[e+1];t.apply(null,r),u[e]=i,u[e+1]=i}s=0}function n(){for(var e=0;s>e;e++)u[e]=i;s=0}function o(e,t){u[s]=e,u[s+1]=t,s+=2,2===s&&a()}var i,s=0,u=new Array(1e3),a=function(){if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))return global.setImmediate?function(){global.setImmediate(r)}:function(){process.nextTick(r)};if("undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel){var e=new MessageChannel;return e.port1.onmessage=r,function(){e.port2.postMessage(0)}}var t="undefined"!=typeof window?window:{},n=function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}};if(t.MutationObserver||t.WebKitMutationObserver){t.MutationObserver=t.MutationObserver||t.WebKitMutationObserver;var o=0,i=new t.MutationObserver(r),s=document.createTextNode("");return i.observe(s,{characterData:!0}),function(){s.data=o=++o%2}}if(n()){var u="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(u)&&r()};return t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),function(){t.postMessage(u+1e3*Math.random(),"*")}}return function(){setTimeout(r,1)}}();t.clear=n,t.enqueue=o}),r("promise/utils",["require","exports"],function(e,t){function r(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return r(e)&&e.prototype&&e.prototype.constructor===e}function i(e){return"undefined"==typeof e}function s(e,t){return t in e}function u(e,t,n){if(void 0===n&&(n=[]),!s(e,t)||!r(e[t]))throw new TypeError("Object has no "+t+" function");return e[t].apply(e,n)}function a(e){return e}function c(e){throw e instanceof Error||(e=new Error(e)),e}t.isCallable=r,t.isObject=n,t.isConstructor=o,t.isUndefined=i,t.hasProperty=s,t.invoke=u,t.identity=a,t.thrower=c}),r("promise/abstract",["require","exports","./status","./tasks","./utils"],function(e,t,r,n,o){function i(e){return function(t){if(e._status===r.unresolved){var n=e._rejectReactions;return e._result=t,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=r.rejected,l(n,t)}}}function s(e){return function(t){if(e._status===r.unresolved){var n=e._resolveReactions;return e._result=t,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=r.resolved,l(n,t)}}}function u(e,t,r){return function(n){if(n===e){var i=new TypeError("Handler result cannot be same promise as input");return r.call(void 0,i)}var s=e.constructor,u=a(s);return f(n,u)?o.invoke(u.promise,"then",[t,r]):t.call(void 0,n)}}function a(e){if(!o.isConstructor(e))throw new TypeError("newPromiseCapability only accept a constructor as argument");var t={promise:void 0,resolve:void 0,reject:void 0};if(t.promise=new e(function(e,r){t.resolve=e,t.reject=r}),!o.isCallable(t.resolve))throw new TypeError("Given constructor type does not provide an acceptable resolve function");if(!o.isCallable(t.reject))throw new TypeError("Given constructor type does not provide an acceptable reject function");return t}function c(e){return o.isObject(e)&&!o.isUndefined(e._status)}function l(e,t){for(var r,o=0,i=e.length;i>o;o++)r=e[o],n.enqueue(p,[r,t])}function f(e,t){try{if(o.isObject(e)&&o.isCallable(e.then))return e.then.call(e,t.resolve,t.reject),!0}catch(r){return t.reject.call(null,r),!0}return!1}function p(e,t){if(!e||!e.capability||!e.handler)throw new TypeError("PromiseReactionTask take a promise reaction record as first argument");var r,n=e.capability,o=e.handler;try{r=o.call(void 0,t)}catch(i){return n.reject.call(void 0,i)}if(r===n.promise){var s=new TypeError("Handler result cannot be same promise as input");return n.reject.call(void 0,s)}return f(r,n)?void 0:n.resolve.call(void 0,r)}t.createRejectFunction=i,t.createResolveFunction=s,t.createResolutionHandlerFunction=u,t.newPromiseCapability=a,t.isPromise=c,t.triggerPromiseReaction=l,t.updatePromiseFromPotentialThenable=f,t.PromiseReactionTask=p}),r("promise/class",["require","exports","./abstract","./status","./tasks","./utils"],function(e,t,r,n,o,i){var s=function(){function e(t){if(this._status=n.waiting,!i.isCallable(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._status=n.unresolved,this._resolveReactions=[],this._rejectReactions=[];var o=r.createResolveFunction(this),s=r.createRejectFunction(this);try{t(o,s)}catch(u){s.call(void 0,u)}}return e.prototype.then=function(e,t){var s=this,u=this.constructor,a=r.newPromiseCapability(u);i.isCallable(t)||(t=i.thrower),i.isCallable(e)||(e=i.identity);var c={capability:a,handler:r.createResolutionHandlerFunction(s,e,t)},l={capability:a,handler:t};return this._status===n.unresolved?(this._resolveReactions.push(c),this._rejectReactions.push(l)):this._status===n.resolved?o.enqueue(r.PromiseReactionTask,[c,s._result]):this._status===n.rejected&&o.enqueue(r.PromiseReactionTask,[l,s._result]),a.promise},e.prototype["catch"]=function(e){return this.then(void 0,e)},e.resolve=function(e){var t=this,n=r.newPromiseCapability(t);return n.resolve.call(void 0,e),n.promise},e.reject=function(e){var t=this,n=r.newPromiseCapability(t);return n.reject.call(void 0,e),n.promise},e.all=function(e){function t(e){return function(t){u[e]=t,a--,0===a&&s.resolve.call(void 0,u)}}var n,o=this,s=r.newPromiseCapability(o),u=[],a=0,c=e.length,l=0;if(0===c)return s.resolve.call(void 0,u),s.promise;for(;c>l;l++){n=e[l];try{n=i.invoke(o,"resolve",[n]),i.invoke(n,"then",[t(l),s.reject])}catch(f){return s.reject.call(void 0,f),s.promise}a++}return s.promise},e.race=function(e){for(var t,n=this,o=r.newPromiseCapability(n),s=0,u=e.length;u>s;s++){t=e[s];try{t=i.invoke(n,"resolve",[t]),i.invoke(t,"then",[o.resolve,o.reject])}catch(a){return o.reject.call(void 0,a),o.promise}}return o.promise},e}(),u="undefined"!=typeof global?global:window;return u.Promise=s,s}),r("promise/extensions",["require","exports","../promise"],function(e,t){function r(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];return e.apply(void 0,t.concat(r))}}function n(e){return void 0===e&&(e=1),new Promise(function(t){setTimeout(function(){t.call(void 0)},e)})}function o(){var t=Array.prototype.slice.call(arguments);return 0===t.length?Promise.resolve(void 0):new Promise(function(r,n){1===t.length&&"[object Array]"===Object.prototype.toString.call(t[0])&&(t=t[0]);try{e(t,function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];r(1===e.length?e[0]:e)},function(e){n(e)})}catch(o){n(o)}})}function i(e,t){return 0===e.length?Promise.resolve(void 0):new Promise(function(n,o){var i,s,u=0,a=e.length;for(i=Promise.resolve(void 0);a>u;u++)s=e[u],i=i.then(r(t,s,u),o);i.then(n,o)})}function s(e,t){return 0===e.length?Promise.resolve([]):new Promise(function(n,o){var i,s,u=0,a=e.length,c=[],l=function(e,r){return t(e,r).then(function(e){return c.push(e),e})};for(i=Promise.resolve(void 0);a>u;u++)s=e[u],i=i.then(r(l,s,u),o);i.then(function(){return n(c)},o)})}t.timeout=n,t.module=o,t.forEach=i,t.map=s}),t(["promise"])}();