/**
 * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

!function(){var e,r,t;!function(n){function o(e,r){return b.call(e,r)}function i(e,r){var t,n,o,i,s,u,c,a,l,f,p,v=r&&r.split("/"),d=w.map,m=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(r){for(v=v.slice(0,v.length-1),e=e.split("/"),s=e.length-1,w.nodeIdCompat&&j.test(e[s])&&(e[s]=e[s].replace(j,"")),e=v.concat(e),l=0;l<e.length;l+=1)if(p=e[l],"."===p)e.splice(l,1),l-=1;else if(".."===p){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((v||m)&&d){for(t=e.split("/"),l=t.length;l>0;l-=1){if(n=t.slice(0,l).join("/"),v)for(f=v.length;f>0;f-=1)if(o=d[v.slice(0,f).join("/")],o&&(o=o[n])){i=o,u=l;break}if(i)break;!c&&m&&m[n]&&(c=m[n],a=l)}!i&&c&&(i=c,u=a),i&&(t.splice(0,u,i),e=t.join("/"))}return e}function s(e,r){return function(){return v.apply(n,P.call(arguments,0).concat([e,r]))}}function u(e){return function(r){return i(r,e)}}function c(e){return function(r){h[e]=r}}function a(e){if(o(y,e)){var r=y[e];delete y[e],g[e]=!0,p.apply(n,r)}if(!o(h,e)&&!o(g,e))throw new Error("No "+e);return h[e]}function l(e){var r,t=e?e.indexOf("!"):-1;return t>-1&&(r=e.substring(0,t),e=e.substring(t+1,e.length)),[r,e]}function f(e){return function(){return w&&w.config&&w.config[e]||{}}}var p,v,d,m,h={},y={},w={},g={},b=Object.prototype.hasOwnProperty,P=[].slice,j=/\.js$/;d=function(e,r){var t,n=l(e),o=n[0];return e=n[1],o&&(o=i(o,r),t=a(o)),o?e=t&&t.normalize?t.normalize(e,u(r)):i(e,r):(e=i(e,r),n=l(e),o=n[0],e=n[1],o&&(t=a(o))),{f:o?o+"!"+e:e,n:e,pr:o,p:t}},m={require:function(e){return s(e)},exports:function(e){var r=h[e];return"undefined"!=typeof r?r:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:f(e)}}},p=function(e,r,t,i){var u,l,f,p,v,w,b=[],P=typeof t;if(i=i||e,"undefined"===P||"function"===P){for(r=!r.length&&t.length?["require","exports","module"]:r,v=0;v<r.length;v+=1)if(p=d(r[v],i),l=p.f,"require"===l)b[v]=m.require(e);else if("exports"===l)b[v]=m.exports(e),w=!0;else if("module"===l)u=b[v]=m.module(e);else if(o(h,l)||o(y,l)||o(g,l))b[v]=a(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,s(i,!0),c(l),{}),b[v]=h[l]}f=t?t.apply(h[e],b):void 0,e&&(u&&u.exports!==n&&u.exports!==h[e]?h[e]=u.exports:f===n&&w||(h[e]=f))}else e&&(h[e]=t)},e=r=v=function(e,r,t,o,i){if("string"==typeof e)return m[e]?m[e](r):a(d(e,r).f);if(!e.splice){if(w=e,w.deps&&v(w.deps,w.callback),!r)return;r.splice?(e=r,r=t,t=null):e=n}return r=r||function(){},"function"==typeof t&&(t=o,o=i),o?p(n,e,r,t):setTimeout(function(){p(n,e,r,t)},4),v},v.config=function(e){return v(e)},e._defined=h,t=function(e,r,t){r.splice||(t=r,r=[]),o(h,e)||o(y,e)||(y[e]=[e,r,t])},t.amd={jQuery:!0}}(),t("../bower_components/almond/almond",function(){}),t("promise",[],function(){function e(){var e;return new window.Promise(function(r){e=r}),"function"==typeof e}function t(){return"Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&e()}var n,o=t()?window.Promise:r("promise/class"),i=r("promise/extensions");for(n in i)o[n]=i[n];return o}),t("../promise-builder",function(){}),t("promise/status",["require","exports"],function(e,r){r.waiting=void 0,r.unresolved="unresolved",r.resolved="has-resolution",r.rejected="has-rejection"}),t("promise/timeout",["require","exports"],function(){function e(e){process.nextTick(e)}function r(e){setTimeout(e,1)}var t;return t="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e:r}),t("promise/tasks",["require","exports","./timeout"],function(e,r,t){function n(){t(function(){if(0===u.length)return c=!1,void 0;var e=u.shift(),r=e.executor,t=e.args;r.apply(void 0,t),n()})}function o(){c||(c=!0,n())}function i(e,r){u.push({executor:e,args:r}),o()}function s(){u=[]}var u=[],c=!1;r.enqueue=i,r.clear=s}),t("promise/utils",["require","exports"],function(e,r){function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function o(e){return r.isCallable(e)&&e.prototype&&e.prototype.constructor===e}function i(e){return"undefined"==typeof e}function s(e,r){return r in e}function u(e,t,n){if("undefined"==typeof n&&(n=[]),!r.hasProperty(e,t)||!r.isCallable(e[t]))throw new TypeError("Object has no "+t+" function");return e[t].apply(e,n)}function c(e){return e}function a(e){throw e instanceof Error||(e=new Error(e)),e}r.isCallable=t,r.isObject=n,r.isConstructor=o,r.isUndefined=i,r.hasProperty=s,r.invoke=u,r.identity=c,r.thrower=a}),t("promise/abstract",["require","exports","./status","./tasks","./utils"],function(e,r,t,n,o){function i(e,n){e._status=t.unresolved,e._resolveReactions=[],e._rejectReactions=[];var o=r.createResolveFunction(e),i=r.createRejectFunction(e);try{n(o,i)}catch(s){i.call(void 0,s)}return e}function s(e){return function(n){if(e._status===t.unresolved){var o=e._rejectReactions;return e._result=n,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=t.rejected,r.triggerPromiseReaction(o,n)}}}function u(e){return function(n){if(e._status===t.unresolved){var o=e._resolveReactions;return e._result=n,e._rejectReactions=void 0,e._resolveReactions=void 0,e._status=t.resolved,r.triggerPromiseReaction(o,n)}}}function c(e,t,n){return function(i){if(i===e){var s=new TypeError("Handler result cannot be same promise as input");return n.call(void 0,s)}var u=e.constructor,c=r.newPromiseCapability(u);return r.updatePromiseFromPotentialThenable(i,c)?o.invoke(c.promise,"then",[t,n]):t.call(void 0,i)}}function a(e){if(!o.isConstructor(e))throw new TypeError("newPromiseCapability only accept a constructor as argument");var r={promise:void 0,resolve:void 0,reject:void 0};if(r.promise=new e(function(e,t){r.resolve=e,r.reject=t}),!o.isCallable(r.resolve))throw new TypeError("Given constructor type does not provide an acceptable resolve function");if(!o.isCallable(r.reject))throw new TypeError("Given constructor type does not provide an acceptable reject function");return r}function l(e){return o.isObject(e)&&!o.isUndefined(e._status)}function f(e,t){for(var o,i=0,s=e.length;s>i;i++)o=e[i],n.enqueue(r.PromiseReactionTask,[o,t])}function p(e,r){try{if(o.isObject(e)&&o.isCallable(e.then))return e.then.call(e,r.resolve,r.reject),!0}catch(t){return r.reject.call(null,t),!0}return!1}function v(e,t){if(!e||!e.capability||!e.handler)throw new TypeError("PromiseReactionTask take a promise reaction record as first argument");var n,o=e.capability,i=e.handler;try{n=i.call(void 0,t)}catch(s){return o.reject.call(void 0,s)}if(n===o.promise){var u=new TypeError("Handler result cannot be same promise as input");return o.reject.call(void 0,u)}return r.updatePromiseFromPotentialThenable(n,o)?void 0:o.resolve.call(void 0,n)}r.initializePromise=i,r.createRejectFunction=s,r.createResolveFunction=u,r.createResolutionHandlerFunction=c,r.newPromiseCapability=a,r.isPromise=l,r.triggerPromiseReaction=f,r.updatePromiseFromPotentialThenable=p,r.PromiseReactionTask=v}),t("promise/class",["require","exports","./abstract","./status","./tasks","./utils"],function(e,r,t,n,o,i){var s=function(){function e(r){if(this._status=n.waiting,!i.isCallable(r))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof e))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");t.initializePromise(this,r)}return e.prototype.then=function(e,r){var s=this,u=this.constructor,c=t.newPromiseCapability(u);i.isCallable(r)||(r=i.thrower),i.isCallable(e)||(e=i.identity);var a={capability:c,handler:t.createResolutionHandlerFunction(s,e,r)},l={capability:c,handler:r};return this._status===n.unresolved?(this._resolveReactions.push(a),this._rejectReactions.push(l)):this._status===n.resolved?o.enqueue(t.PromiseReactionTask,[a,s._result]):this._status===n.rejected&&o.enqueue(t.PromiseReactionTask,[l,s._result]),c.promise},e.prototype.catch=function(e){return this.then(void 0,e)},e.resolve=function(e){var r=this,n=t.newPromiseCapability(r);return n.resolve.call(void 0,e),n.promise},e.reject=function(e){var r=this,n=t.newPromiseCapability(r);return n.reject.call(void 0,e),n.promise},e.cast=function(e){var r=this;if(t.isPromise(e)&&e.constructor===r)return e;var n=t.newPromiseCapability(r);return n.resolve.call(void 0,e),n.promise},e.all=function(e){function r(e){return function(r){u[e]=r,c--,0===c&&s.resolve.call(void 0,u)}}var n,o=this,s=t.newPromiseCapability(o),u=[],c=0,a=e.length,l=0;if(0===a)return s.resolve.call(void 0,u),s.promise;for(;a>l;l++){n=e[l];try{n=i.invoke(o,"cast",[n]),i.invoke(n,"then",[r(l),s.reject])}catch(f){return s.reject.call(void 0,f),s.promise}c++}return s.promise},e.race=function(e){for(var r,n=this,o=t.newPromiseCapability(n),s=0,u=e.length;u>s;s++){r=e[s];try{r=i.invoke(n,"cast",[r]),i.invoke(r,"then",[o.resolve,o.reject])}catch(c){return o.reject.call(void 0,c),o.promise}}return o.promise},e}(),u="undefined"!=typeof global?global:window;return u.Promise=s,s}),t("promise/extensions",["require","exports","../promise"],function(e,r){function t(e){for(var r=[],t=0;t<arguments.length-1;t++)r[t]=arguments[t+1];return function(){for(var t=[],n=0;n<arguments.length-0;n++)t[n]=arguments[n+0];return e.apply(void 0,r.concat(t))}}function n(e){return"undefined"==typeof e&&(e=1),new Promise(function(r){setTimeout(function(){r.call(void 0)},e)})}function o(){var r=Array.prototype.slice.call(arguments);return 0===r.length?Promise.resolve(void 0):new Promise(function(t,n){1===r.length&&"[object Array]"===Object.prototype.toString.call(r[0])&&(r=r[0]);try{e(r,function(){for(var e=[],r=0;r<arguments.length-0;r++)e[r]=arguments[r+0];t(1===e.length?e[0]:e)},function(e){n(e)})}catch(o){n(o)}})}function i(e,r){return 0===e.length?Promise.resolve(void 0):new Promise(function(n,o){var i,s,u=0,c=e.length;for(i=Promise.resolve(void 0);c>u;u++)s=e[u],i=i.then(t(r,s,u),o);i.then(n,o)})}function s(e,r){return 0===e.length?Promise.resolve([]):new Promise(function(n,o){var i,s,u=0,c=e.length,a=[],l=function(e,t){return r(e,t).then(function(e){return a.push(e),e})};for(i=Promise.resolve(void 0);c>u;u++)s=e[u],i=i.then(t(l,s,u),o);i.then(function(){return n(a)},o)})}r.timeout=n,r.module=o,r.forEach=i,r.map=s}),r(["promise"])}();